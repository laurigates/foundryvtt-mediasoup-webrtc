<testsuites id="" name="" tests="144" failures="144" skipped="0" errors="0" time="58.441246">
<testsuite name="plugin-loading.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="chromium-webrtc" tests="9" failures="9" skipped="0" time="0.009" errors="0">
<testcase name="MediaSoup Plugin Loading › should load mock FoundryVTT environment correctly" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:30:3 should load mock FoundryVTT environment correctly" type="FAILURE">
<![CDATA[  [chromium-webrtc] › plugin-loading.spec.js:30:3 › MediaSoup Plugin Loading › should load mock FoundryVTT environment correctly 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-MHCVGn --remote-debugging-pipe --no-startup-window
    <launched> pid=10201
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-MHCVGn --remote-debugging-pipe --no-startup-window
      - <launched> pid=10201


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should load mediasoup-client library when needed" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:49:3 should load mediasoup-client library when needed" type="FAILURE">
<![CDATA[  [chromium-webrtc] › plugin-loading.spec.js:49:3 › MediaSoup Plugin Loading › should load mediasoup-client library when needed 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-MGhRFO --remote-debugging-pipe --no-startup-window
    <launched> pid=10197
    [pid=10197] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10197] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-MGhRFO --remote-debugging-pipe --no-startup-window
      - <launched> pid=10197
      - [pid=10197] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10197] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should initialize plugin successfully" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:78:3 should initialize plugin successfully" type="FAILURE">
<![CDATA[  [chromium-webrtc] › plugin-loading.spec.js:78:3 › MediaSoup Plugin Loading › should initialize plugin successfully 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-d6t76O --remote-debugging-pipe --no-startup-window
    <launched> pid=10199
    [pid=10199] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10199] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-d6t76O --remote-debugging-pipe --no-startup-window
      - <launched> pid=10199
      - [pid=10199] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10199] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should register settings correctly" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:104:3 should register settings correctly" type="FAILURE">
<![CDATA[  [chromium-webrtc] › plugin-loading.spec.js:104:3 › MediaSoup Plugin Loading › should register settings correctly 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-GJXNVz --remote-debugging-pipe --no-startup-window
    <launched> pid=10203
    [pid=10203] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10203] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-GJXNVz --remote-debugging-pipe --no-startup-window
      - <launched> pid=10203
      - [pid=10203] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10203] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should register settings menu correctly" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:134:3 should register settings menu correctly" type="FAILURE">
<![CDATA[  [chromium-webrtc] › plugin-loading.spec.js:134:3 › MediaSoup Plugin Loading › should register settings menu correctly 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-FItmhn --remote-debugging-pipe --no-startup-window
    <launched> pid=10198
    [pid=10198] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10198] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-FItmhn --remote-debugging-pipe --no-startup-window
      - <launched> pid=10198
      - [pid=10198] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10198] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should handle lifecycle hooks correctly" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:153:3 should handle lifecycle hooks correctly" type="FAILURE">
<![CDATA[  [chromium-webrtc] › plugin-loading.spec.js:153:3 › MediaSoup Plugin Loading › should handle lifecycle hooks correctly 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-H0P1Y7 --remote-debugging-pipe --no-startup-window
    <launched> pid=10202
    [pid=10202] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10202] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-H0P1Y7 --remote-debugging-pipe --no-startup-window
      - <launched> pid=10202
      - [pid=10202] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10202] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should show appropriate notifications" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:179:3 should show appropriate notifications" type="FAILURE">
<![CDATA[  [chromium-webrtc] › plugin-loading.spec.js:179:3 › MediaSoup Plugin Loading › should show appropriate notifications 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-GGh9c5 --remote-debugging-pipe --no-startup-window
    <launched> pid=10200
    [pid=10200] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10200] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-GGh9c5 --remote-debugging-pipe --no-startup-window
      - <launched> pid=10200
      - [pid=10200] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10200] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should log initialization messages" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:203:3 should log initialization messages" type="FAILURE">
<![CDATA[  [chromium-webrtc] › plugin-loading.spec.js:203:3 › MediaSoup Plugin Loading › should log initialization messages 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-ZvzVoY --remote-debugging-pipe --no-startup-window
    <launched> pid=10215
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-ZvzVoY --remote-debugging-pipe --no-startup-window
      - <launched> pid=10215


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should handle mediasoup-client loading failure gracefully" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:225:3 should handle mediasoup-client loading failure gracefully" type="FAILURE">
<![CDATA[  [chromium-webrtc] › plugin-loading.spec.js:225:3 › MediaSoup Plugin Loading › should handle mediasoup-client loading failure gracefully 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Dl3bBZ --remote-debugging-pipe --no-startup-window
    <launched> pid=10213
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Dl3bBZ --remote-debugging-pipe --no-startup-window
      - <launched> pid=10213


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
</testsuite>
<testsuite name="server-connection.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="chromium-webrtc" tests="8" failures="8" skipped="0" time="0.008" errors="0">
<testcase name="MediaSoup Server Connection › should test WebSocket connection to localhost" classname="server-connection.spec.js" time="0.001">
<failure message="server-connection.spec.js:29:3 should test WebSocket connection to localhost" type="FAILURE">
<![CDATA[  [chromium-webrtc] › server-connection.spec.js:29:3 › MediaSoup Server Connection › should test WebSocket connection to localhost 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-7ackB8 --remote-debugging-pipe --no-startup-window
    <launched> pid=10218
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-7ackB8 --remote-debugging-pipe --no-startup-window
      - <launched> pid=10218


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should handle invalid server URL gracefully" classname="server-connection.spec.js" time="0.001">
<failure message="server-connection.spec.js:48:3 should handle invalid server URL gracefully" type="FAILURE">
<![CDATA[  [chromium-webrtc] › server-connection.spec.js:48:3 › MediaSoup Server Connection › should handle invalid server URL gracefully 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-xXBgAa --remote-debugging-pipe --no-startup-window
    <launched> pid=10216
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-xXBgAa --remote-debugging-pipe --no-startup-window
      - <launched> pid=10216


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should connect to MediaSoup server when available" classname="server-connection.spec.js" time="0.001">
<failure message="server-connection.spec.js:64:3 should connect to MediaSoup server when available" type="FAILURE">
<![CDATA[  [chromium-webrtc] › server-connection.spec.js:64:3 › MediaSoup Server Connection › should connect to MediaSoup server when available 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-NAS0jp --remote-debugging-pipe --no-startup-window
    <launched> pid=10217
    [pid=10217] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10217] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-NAS0jp --remote-debugging-pipe --no-startup-window
      - <launched> pid=10217
      - [pid=10217] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10217] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should handle connection state changes" classname="server-connection.spec.js" time="0.001">
<failure message="server-connection.spec.js:127:3 should handle connection state changes" type="FAILURE">
<![CDATA[  [chromium-webrtc] › server-connection.spec.js:127:3 › MediaSoup Server Connection › should handle connection state changes 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Tfrh2P --remote-debugging-pipe --no-startup-window
    <launched> pid=10219
    [pid=10219] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10219] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Tfrh2P --remote-debugging-pipe --no-startup-window
      - <launched> pid=10219
      - [pid=10219] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10219] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should handle reconnection attempts" classname="server-connection.spec.js" time="0.001">
<failure message="server-connection.spec.js:172:3 should handle reconnection attempts" type="FAILURE">
<![CDATA[  [chromium-webrtc] › server-connection.spec.js:172:3 › MediaSoup Server Connection › should handle reconnection attempts 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-kB41wN --remote-debugging-pipe --no-startup-window
    <launched> pid=10214
    [pid=10214] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10214] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-kB41wN --remote-debugging-pipe --no-startup-window
      - <launched> pid=10214
      - [pid=10214] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10214] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should validate server URL before connection" classname="server-connection.spec.js" time="0.001">
<failure message="server-connection.spec.js:209:3 should validate server URL before connection" type="FAILURE">
<![CDATA[  [chromium-webrtc] › server-connection.spec.js:209:3 › MediaSoup Server Connection › should validate server URL before connection 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Xx9fdz --remote-debugging-pipe --no-startup-window
    <launched> pid=10234
    [pid=10234] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10234] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Xx9fdz --remote-debugging-pipe --no-startup-window
      - <launched> pid=10234
      - [pid=10234] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10234] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should handle WebSocket errors gracefully" classname="server-connection.spec.js" time="0.001">
<failure message="server-connection.spec.js:239:3 should handle WebSocket errors gracefully" type="FAILURE">
<![CDATA[  [chromium-webrtc] › server-connection.spec.js:239:3 › MediaSoup Server Connection › should handle WebSocket errors gracefully 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Kwwm3n --remote-debugging-pipe --no-startup-window
    <launched> pid=10233
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Kwwm3n --remote-debugging-pipe --no-startup-window
      - <launched> pid=10233


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should clean up resources on disconnect" classname="server-connection.spec.js" time="0.001">
<failure message="server-connection.spec.js:291:3 should clean up resources on disconnect" type="FAILURE">
<![CDATA[  [chromium-webrtc] › server-connection.spec.js:291:3 › MediaSoup Server Connection › should clean up resources on disconnect 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-aojXVl --remote-debugging-pipe --no-startup-window
    <launched> pid=10238
    [pid=10238] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10238] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-aojXVl --remote-debugging-pipe --no-startup-window
      - <launched> pid=10238
      - [pid=10238] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10238] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
</testsuite>
<testsuite name="settings-config.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="chromium-webrtc" tests="10" failures="10" skipped="0" time="0.012" errors="0">
<testcase name="MediaSoup Settings Configuration › should open settings modal from button" classname="settings-config.spec.js" time="0.002">
<failure message="settings-config.spec.js:29:3 should open settings modal from button" type="FAILURE">
<![CDATA[  [chromium-webrtc] › settings-config.spec.js:29:3 › MediaSoup Settings Configuration › should open settings modal from button 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-kfFoYz --remote-debugging-pipe --no-startup-window
    <launched> pid=10235
    [pid=10235] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10235] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-kfFoYz --remote-debugging-pipe --no-startup-window
      - <launched> pid=10235
      - [pid=10235] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10235] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should close settings modal on cancel" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:43:3 should close settings modal on cancel" type="FAILURE">
<![CDATA[  [chromium-webrtc] › settings-config.spec.js:43:3 › MediaSoup Settings Configuration › should close settings modal on cancel 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-PLWOZe --remote-debugging-pipe --no-startup-window
    <launched> pid=10239
    [pid=10239] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10239] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-PLWOZe --remote-debugging-pipe --no-startup-window
      - <launched> pid=10239
      - [pid=10239] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10239] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should close settings modal on overlay click" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:53:3 should close settings modal on overlay click" type="FAILURE">
<![CDATA[  [chromium-webrtc] › settings-config.spec.js:53:3 › MediaSoup Settings Configuration › should close settings modal on overlay click 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-r9MVlN --remote-debugging-pipe --no-startup-window
    <launched> pid=10236
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-r9MVlN --remote-debugging-pipe --no-startup-window
      - <launched> pid=10236


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should save settings correctly" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:63:3 should save settings correctly" type="FAILURE">
<![CDATA[  [chromium-webrtc] › settings-config.spec.js:63:3 › MediaSoup Settings Configuration › should save settings correctly 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-SY59pt --remote-debugging-pipe --no-startup-window
    <launched> pid=10237
    [pid=10237] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10237] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-SY59pt --remote-debugging-pipe --no-startup-window
      - <launched> pid=10237
      - [pid=10237] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10237] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should validate server URL format" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:88:3 should validate server URL format" type="FAILURE">
<![CDATA[  [chromium-webrtc] › settings-config.spec.js:88:3 › MediaSoup Settings Configuration › should validate server URL format 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-vGI9EI --remote-debugging-pipe --no-startup-window
    <launched> pid=10256
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-vGI9EI --remote-debugging-pipe --no-startup-window
      - <launched> pid=10256


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should populate device lists when available" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:131:3 should populate device lists when available" type="FAILURE">
<![CDATA[  [chromium-webrtc] › settings-config.spec.js:131:3 › MediaSoup Settings Configuration › should populate device lists when available 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-CGRidt --remote-debugging-pipe --no-startup-window
    <launched> pid=10257
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-CGRidt --remote-debugging-pipe --no-startup-window
      - <launched> pid=10257


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should update client settings when changed" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:182:3 should update client settings when changed" type="FAILURE">
<![CDATA[  [chromium-webrtc] › settings-config.spec.js:182:3 › MediaSoup Settings Configuration › should update client settings when changed 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-lTPbkn --remote-debugging-pipe --no-startup-window
    <launched> pid=10254
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-lTPbkn --remote-debugging-pipe --no-startup-window
      - <launched> pid=10254


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should show current settings values in modal" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:199:3 should show current settings values in modal" type="FAILURE">
<![CDATA[  [chromium-webrtc] › settings-config.spec.js:199:3 › MediaSoup Settings Configuration › should show current settings values in modal 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-4VLG2M --remote-debugging-pipe --no-startup-window
    <launched> pid=10261
    [pid=10261] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10261] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-4VLG2M --remote-debugging-pipe --no-startup-window
      - <launched> pid=10261
      - [pid=10261] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10261] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should handle settings change callbacks" classname="settings-config.spec.js" time="0.002">
<failure message="settings-config.spec.js:217:3 should handle settings change callbacks" type="FAILURE">
<![CDATA[  [chromium-webrtc] › settings-config.spec.js:217:3 › MediaSoup Settings Configuration › should handle settings change callbacks 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-1ArXZx --remote-debugging-pipe --no-startup-window
    <launched> pid=10260
    [pid=10260] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10260] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-1ArXZx --remote-debugging-pipe --no-startup-window
      - <launched> pid=10260
      - [pid=10260] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10260] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should handle boolean settings correctly" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:260:3 should handle boolean settings correctly" type="FAILURE">
<![CDATA[  [chromium-webrtc] › settings-config.spec.js:260:3 › MediaSoup Settings Configuration › should handle boolean settings correctly 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-hsLplp --remote-debugging-pipe --no-startup-window
    <launched> pid=10255
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-hsLplp --remote-debugging-pipe --no-startup-window
      - <launched> pid=10255


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
</testsuite>
<testsuite name="webrtc-media.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="chromium-webrtc" tests="9" failures="9" skipped="0" time="0.009" errors="0">
<testcase name="MediaSoup WebRTC Media › should request media permissions successfully" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:39:3 should request media permissions successfully" type="FAILURE">
<![CDATA[  [chromium-webrtc] › webrtc-media.spec.js:39:3 › MediaSoup WebRTC Media › should request media permissions successfully 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-WNJLpf --remote-debugging-pipe --no-startup-window
    <launched> pid=10259
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-WNJLpf --remote-debugging-pipe --no-startup-window
      - <launched> pid=10259


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should enumerate mock media devices" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:51:3 should enumerate mock media devices" type="FAILURE">
<![CDATA[  [chromium-webrtc] › webrtc-media.spec.js:51:3 › MediaSoup WebRTC Media › should enumerate mock media devices 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-5MFBdg --remote-debugging-pipe --no-startup-window
    <launched> pid=10277
    [pid=10277] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10277] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-5MFBdg --remote-debugging-pipe --no-startup-window
      - <launched> pid=10277
      - [pid=10277] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10277] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should create local audio stream" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:102:3 should create local audio stream" type="FAILURE">
<![CDATA[  [chromium-webrtc] › webrtc-media.spec.js:102:3 › MediaSoup WebRTC Media › should create local audio stream 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-kjmqfm --remote-debugging-pipe --no-startup-window
    <launched> pid=10274
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-kjmqfm --remote-debugging-pipe --no-startup-window
      - <launched> pid=10274


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should create local video stream" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:154:3 should create local video stream" type="FAILURE">
<![CDATA[  [chromium-webrtc] › webrtc-media.spec.js:154:3 › MediaSoup WebRTC Media › should create local video stream 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-rdsryI --remote-debugging-pipe --no-startup-window
    <launched> pid=10273
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-rdsryI --remote-debugging-pipe --no-startup-window
      - <launched> pid=10273


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should handle media device constraints" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:206:3 should handle media device constraints" type="FAILURE">
<![CDATA[  [chromium-webrtc] › webrtc-media.spec.js:206:3 › MediaSoup WebRTC Media › should handle media device constraints 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-tlK0e6 --remote-debugging-pipe --no-startup-window
    <launched> pid=10276
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-tlK0e6 --remote-debugging-pipe --no-startup-window
      - <launched> pid=10276


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should handle media access errors gracefully" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:286:3 should handle media access errors gracefully" type="FAILURE">
<![CDATA[  [chromium-webrtc] › webrtc-media.spec.js:286:3 › MediaSoup WebRTC Media › should handle media access errors gracefully 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Eca0Ut --remote-debugging-pipe --no-startup-window
    <launched> pid=10278
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Eca0Ut --remote-debugging-pipe --no-startup-window
      - <launched> pid=10278


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should toggle audio mute state" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:329:3 should toggle audio mute state" type="FAILURE">
<![CDATA[  [chromium-webrtc] › webrtc-media.spec.js:329:3 › MediaSoup WebRTC Media › should toggle audio mute state 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-mHkI7V --remote-debugging-pipe --no-startup-window
    <launched> pid=10275
    [pid=10275] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=10275] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-mHkI7V --remote-debugging-pipe --no-startup-window
      - <launched> pid=10275
      - [pid=10275] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=10275] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should clean up media streams on stop" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:381:3 should clean up media streams on stop" type="FAILURE">
<![CDATA[  [chromium-webrtc] › webrtc-media.spec.js:381:3 › MediaSoup WebRTC Media › should clean up media streams on stop 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-utIfaG --remote-debugging-pipe --no-startup-window
    <launched> pid=10279
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-utIfaG --remote-debugging-pipe --no-startup-window
      - <launched> pid=10279


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should handle device switching" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:448:3 should handle device switching" type="FAILURE">
<![CDATA[  [chromium-webrtc] › webrtc-media.spec.js:448:3 › MediaSoup WebRTC Media › should handle device switching 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-5aPGVk --remote-debugging-pipe --no-startup-window
    <launched> pid=10295
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --use-file-for-fake-video-capture=tests/integration/fixtures/test-video.y4m --use-file-for-fake-audio-capture=tests/integration/fixtures/test-audio.wav --allow-file-access-from-files --disable-web-security --allow-running-insecure-content --auto-accept-camera-and-microphone-capture --auto-select-desktop-capture-source=Test --disable-features=VizDisplayCompositor --disable-backgrounding-occluded-windows --disable-background-timer-throttling --disable-renderer-backgrounding --disable-ipc-flooding-protection --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-5aPGVk --remote-debugging-pipe --no-startup-window
      - <launched> pid=10295


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
</testsuite>
<testsuite name="plugin-loading.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="firefox-webrtc" tests="9" failures="9" skipped="0" time="0.059" errors="0">
<testcase name="MediaSoup Plugin Loading › should load mock FoundryVTT environment correctly" classname="plugin-loading.spec.js" time="0.007">
<failure message="plugin-loading.spec.js:30:3 should load mock FoundryVTT environment correctly" type="FAILURE">
<![CDATA[  [firefox-webrtc] › plugin-loading.spec.js:30:3 › MediaSoup Plugin Loading › should load mock FoundryVTT environment correctly 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should load mediasoup-client library when needed" classname="plugin-loading.spec.js" time="0.007">
<failure message="plugin-loading.spec.js:49:3 should load mediasoup-client library when needed" type="FAILURE">
<![CDATA[  [firefox-webrtc] › plugin-loading.spec.js:49:3 › MediaSoup Plugin Loading › should load mediasoup-client library when needed 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should initialize plugin successfully" classname="plugin-loading.spec.js" time="0.006">
<failure message="plugin-loading.spec.js:78:3 should initialize plugin successfully" type="FAILURE">
<![CDATA[  [firefox-webrtc] › plugin-loading.spec.js:78:3 › MediaSoup Plugin Loading › should initialize plugin successfully 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should register settings correctly" classname="plugin-loading.spec.js" time="0.006">
<failure message="plugin-loading.spec.js:104:3 should register settings correctly" type="FAILURE">
<![CDATA[  [firefox-webrtc] › plugin-loading.spec.js:104:3 › MediaSoup Plugin Loading › should register settings correctly 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should register settings menu correctly" classname="plugin-loading.spec.js" time="0.007">
<failure message="plugin-loading.spec.js:134:3 should register settings menu correctly" type="FAILURE">
<![CDATA[  [firefox-webrtc] › plugin-loading.spec.js:134:3 › MediaSoup Plugin Loading › should register settings menu correctly 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should handle lifecycle hooks correctly" classname="plugin-loading.spec.js" time="0.007">
<failure message="plugin-loading.spec.js:153:3 should handle lifecycle hooks correctly" type="FAILURE">
<![CDATA[  [firefox-webrtc] › plugin-loading.spec.js:153:3 › MediaSoup Plugin Loading › should handle lifecycle hooks correctly 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should show appropriate notifications" classname="plugin-loading.spec.js" time="0.006">
<failure message="plugin-loading.spec.js:179:3 should show appropriate notifications" type="FAILURE">
<![CDATA[  [firefox-webrtc] › plugin-loading.spec.js:179:3 › MediaSoup Plugin Loading › should show appropriate notifications 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should log initialization messages" classname="plugin-loading.spec.js" time="0.007">
<failure message="plugin-loading.spec.js:203:3 should log initialization messages" type="FAILURE">
<![CDATA[  [firefox-webrtc] › plugin-loading.spec.js:203:3 › MediaSoup Plugin Loading › should log initialization messages 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should handle mediasoup-client loading failure gracefully" classname="plugin-loading.spec.js" time="0.006">
<failure message="plugin-loading.spec.js:225:3 should handle mediasoup-client loading failure gracefully" type="FAILURE">
<![CDATA[  [firefox-webrtc] › plugin-loading.spec.js:225:3 › MediaSoup Plugin Loading › should handle mediasoup-client loading failure gracefully 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
</testsuite>
<testsuite name="server-connection.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="firefox-webrtc" tests="8" failures="8" skipped="0" time="0.051" errors="0">
<testcase name="MediaSoup Server Connection › should test WebSocket connection to localhost" classname="server-connection.spec.js" time="0.006">
<failure message="server-connection.spec.js:29:3 should test WebSocket connection to localhost" type="FAILURE">
<![CDATA[  [firefox-webrtc] › server-connection.spec.js:29:3 › MediaSoup Server Connection › should test WebSocket connection to localhost 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should handle invalid server URL gracefully" classname="server-connection.spec.js" time="0.006">
<failure message="server-connection.spec.js:48:3 should handle invalid server URL gracefully" type="FAILURE">
<![CDATA[  [firefox-webrtc] › server-connection.spec.js:48:3 › MediaSoup Server Connection › should handle invalid server URL gracefully 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should connect to MediaSoup server when available" classname="server-connection.spec.js" time="0.006">
<failure message="server-connection.spec.js:64:3 should connect to MediaSoup server when available" type="FAILURE">
<![CDATA[  [firefox-webrtc] › server-connection.spec.js:64:3 › MediaSoup Server Connection › should connect to MediaSoup server when available 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should handle connection state changes" classname="server-connection.spec.js" time="0.006">
<failure message="server-connection.spec.js:127:3 should handle connection state changes" type="FAILURE">
<![CDATA[  [firefox-webrtc] › server-connection.spec.js:127:3 › MediaSoup Server Connection › should handle connection state changes 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should handle reconnection attempts" classname="server-connection.spec.js" time="0.007">
<failure message="server-connection.spec.js:172:3 should handle reconnection attempts" type="FAILURE">
<![CDATA[  [firefox-webrtc] › server-connection.spec.js:172:3 › MediaSoup Server Connection › should handle reconnection attempts 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should validate server URL before connection" classname="server-connection.spec.js" time="0.007">
<failure message="server-connection.spec.js:209:3 should validate server URL before connection" type="FAILURE">
<![CDATA[  [firefox-webrtc] › server-connection.spec.js:209:3 › MediaSoup Server Connection › should validate server URL before connection 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should handle WebSocket errors gracefully" classname="server-connection.spec.js" time="0.006">
<failure message="server-connection.spec.js:239:3 should handle WebSocket errors gracefully" type="FAILURE">
<![CDATA[  [firefox-webrtc] › server-connection.spec.js:239:3 › MediaSoup Server Connection › should handle WebSocket errors gracefully 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should clean up resources on disconnect" classname="server-connection.spec.js" time="0.007">
<failure message="server-connection.spec.js:291:3 should clean up resources on disconnect" type="FAILURE">
<![CDATA[  [firefox-webrtc] › server-connection.spec.js:291:3 › MediaSoup Server Connection › should clean up resources on disconnect 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
</testsuite>
<testsuite name="settings-config.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="firefox-webrtc" tests="10" failures="10" skipped="0" time="0.07" errors="0">
<testcase name="MediaSoup Settings Configuration › should open settings modal from button" classname="settings-config.spec.js" time="0.006">
<failure message="settings-config.spec.js:29:3 should open settings modal from button" type="FAILURE">
<![CDATA[  [firefox-webrtc] › settings-config.spec.js:29:3 › MediaSoup Settings Configuration › should open settings modal from button 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should close settings modal on cancel" classname="settings-config.spec.js" time="0.007">
<failure message="settings-config.spec.js:43:3 should close settings modal on cancel" type="FAILURE">
<![CDATA[  [firefox-webrtc] › settings-config.spec.js:43:3 › MediaSoup Settings Configuration › should close settings modal on cancel 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should close settings modal on overlay click" classname="settings-config.spec.js" time="0.007">
<failure message="settings-config.spec.js:53:3 should close settings modal on overlay click" type="FAILURE">
<![CDATA[  [firefox-webrtc] › settings-config.spec.js:53:3 › MediaSoup Settings Configuration › should close settings modal on overlay click 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should save settings correctly" classname="settings-config.spec.js" time="0.007">
<failure message="settings-config.spec.js:63:3 should save settings correctly" type="FAILURE">
<![CDATA[  [firefox-webrtc] › settings-config.spec.js:63:3 › MediaSoup Settings Configuration › should save settings correctly 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should validate server URL format" classname="settings-config.spec.js" time="0.007">
<failure message="settings-config.spec.js:88:3 should validate server URL format" type="FAILURE">
<![CDATA[  [firefox-webrtc] › settings-config.spec.js:88:3 › MediaSoup Settings Configuration › should validate server URL format 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should populate device lists when available" classname="settings-config.spec.js" time="0.007">
<failure message="settings-config.spec.js:131:3 should populate device lists when available" type="FAILURE">
<![CDATA[  [firefox-webrtc] › settings-config.spec.js:131:3 › MediaSoup Settings Configuration › should populate device lists when available 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should update client settings when changed" classname="settings-config.spec.js" time="0.007">
<failure message="settings-config.spec.js:182:3 should update client settings when changed" type="FAILURE">
<![CDATA[  [firefox-webrtc] › settings-config.spec.js:182:3 › MediaSoup Settings Configuration › should update client settings when changed 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should show current settings values in modal" classname="settings-config.spec.js" time="0.007">
<failure message="settings-config.spec.js:199:3 should show current settings values in modal" type="FAILURE">
<![CDATA[  [firefox-webrtc] › settings-config.spec.js:199:3 › MediaSoup Settings Configuration › should show current settings values in modal 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should handle settings change callbacks" classname="settings-config.spec.js" time="0.009">
<failure message="settings-config.spec.js:217:3 should handle settings change callbacks" type="FAILURE">
<![CDATA[  [firefox-webrtc] › settings-config.spec.js:217:3 › MediaSoup Settings Configuration › should handle settings change callbacks 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should handle boolean settings correctly" classname="settings-config.spec.js" time="0.006">
<failure message="settings-config.spec.js:260:3 should handle boolean settings correctly" type="FAILURE">
<![CDATA[  [firefox-webrtc] › settings-config.spec.js:260:3 › MediaSoup Settings Configuration › should handle boolean settings correctly 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
</testsuite>
<testsuite name="webrtc-media.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="firefox-webrtc" tests="9" failures="9" skipped="0" time="0.083" errors="0">
<testcase name="MediaSoup WebRTC Media › should request media permissions successfully" classname="webrtc-media.spec.js" time="0.007">
<failure message="webrtc-media.spec.js:39:3 should request media permissions successfully" type="FAILURE">
<![CDATA[  [firefox-webrtc] › webrtc-media.spec.js:39:3 › MediaSoup WebRTC Media › should request media permissions successfully 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should enumerate mock media devices" classname="webrtc-media.spec.js" time="0.006">
<failure message="webrtc-media.spec.js:51:3 should enumerate mock media devices" type="FAILURE">
<![CDATA[  [firefox-webrtc] › webrtc-media.spec.js:51:3 › MediaSoup WebRTC Media › should enumerate mock media devices 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should create local audio stream" classname="webrtc-media.spec.js" time="0.006">
<failure message="webrtc-media.spec.js:102:3 should create local audio stream" type="FAILURE">
<![CDATA[  [firefox-webrtc] › webrtc-media.spec.js:102:3 › MediaSoup WebRTC Media › should create local audio stream 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should create local video stream" classname="webrtc-media.spec.js" time="0.007">
<failure message="webrtc-media.spec.js:154:3 should create local video stream" type="FAILURE">
<![CDATA[  [firefox-webrtc] › webrtc-media.spec.js:154:3 › MediaSoup WebRTC Media › should create local video stream 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should handle media device constraints" classname="webrtc-media.spec.js" time="0.007">
<failure message="webrtc-media.spec.js:206:3 should handle media device constraints" type="FAILURE">
<![CDATA[  [firefox-webrtc] › webrtc-media.spec.js:206:3 › MediaSoup WebRTC Media › should handle media device constraints 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should handle media access errors gracefully" classname="webrtc-media.spec.js" time="0.007">
<failure message="webrtc-media.spec.js:286:3 should handle media access errors gracefully" type="FAILURE">
<![CDATA[  [firefox-webrtc] › webrtc-media.spec.js:286:3 › MediaSoup WebRTC Media › should handle media access errors gracefully 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should toggle audio mute state" classname="webrtc-media.spec.js" time="0.014">
<failure message="webrtc-media.spec.js:329:3 should toggle audio mute state" type="FAILURE">
<![CDATA[  [firefox-webrtc] › webrtc-media.spec.js:329:3 › MediaSoup WebRTC Media › should toggle audio mute state 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should clean up media streams on stop" classname="webrtc-media.spec.js" time="0.021">
<failure message="webrtc-media.spec.js:381:3 should clean up media streams on stop" type="FAILURE">
<![CDATA[  [firefox-webrtc] › webrtc-media.spec.js:381:3 › MediaSoup WebRTC Media › should clean up media streams on stop 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should handle device switching" classname="webrtc-media.spec.js" time="0.008">
<failure message="webrtc-media.spec.js:448:3 should handle device switching" type="FAILURE">
<![CDATA[  [firefox-webrtc] › webrtc-media.spec.js:448:3 › MediaSoup WebRTC Media › should handle device switching 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
</testsuite>
<testsuite name="plugin-loading.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="webkit-webrtc" tests="9" failures="9" skipped="0" time="2.463" errors="0">
<testcase name="MediaSoup Plugin Loading › should load mock FoundryVTT environment correctly" classname="plugin-loading.spec.js" time="0.334">
<failure message="plugin-loading.spec.js:30:3 should load mock FoundryVTT environment correctly" type="FAILURE">
<![CDATA[  [webkit-webrtc] › plugin-loading.spec.js:30:3 › MediaSoup Plugin Loading › should load mock FoundryVTT environment correctly 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/plugin-loading-MediaSoup-P-9ce9f-ryVTT-environment-correctly-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/plugin-loading-MediaSoup-P-9ce9f-ryVTT-environment-correctly-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Plugin Loading › should load mediasoup-client library when needed" classname="plugin-loading.spec.js" time="0.238">
<failure message="plugin-loading.spec.js:49:3 should load mediasoup-client library when needed" type="FAILURE">
<![CDATA[  [webkit-webrtc] › plugin-loading.spec.js:49:3 › MediaSoup Plugin Loading › should load mediasoup-client library when needed 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/plugin-loading-MediaSoup-P-c51dc--client-library-when-needed-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/plugin-loading-MediaSoup-P-c51dc--client-library-when-needed-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Plugin Loading › should initialize plugin successfully" classname="plugin-loading.spec.js" time="0.241">
<failure message="plugin-loading.spec.js:78:3 should initialize plugin successfully" type="FAILURE">
<![CDATA[  [webkit-webrtc] › plugin-loading.spec.js:78:3 › MediaSoup Plugin Loading › should initialize plugin successfully 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/plugin-loading-MediaSoup-P-96874-tialize-plugin-successfully-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/plugin-loading-MediaSoup-P-96874-tialize-plugin-successfully-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Plugin Loading › should register settings correctly" classname="plugin-loading.spec.js" time="0.291">
<failure message="plugin-loading.spec.js:104:3 should register settings correctly" type="FAILURE">
<![CDATA[  [webkit-webrtc] › plugin-loading.spec.js:104:3 › MediaSoup Plugin Loading › should register settings correctly 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/plugin-loading-MediaSoup-P-5039a-register-settings-correctly-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/plugin-loading-MediaSoup-P-5039a-register-settings-correctly-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Plugin Loading › should register settings menu correctly" classname="plugin-loading.spec.js" time="0.259">
<failure message="plugin-loading.spec.js:134:3 should register settings menu correctly" type="FAILURE">
<![CDATA[  [webkit-webrtc] › plugin-loading.spec.js:134:3 › MediaSoup Plugin Loading › should register settings menu correctly 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/plugin-loading-MediaSoup-P-da3ac-ter-settings-menu-correctly-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/plugin-loading-MediaSoup-P-da3ac-ter-settings-menu-correctly-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Plugin Loading › should handle lifecycle hooks correctly" classname="plugin-loading.spec.js" time="0.256">
<failure message="plugin-loading.spec.js:153:3 should handle lifecycle hooks correctly" type="FAILURE">
<![CDATA[  [webkit-webrtc] › plugin-loading.spec.js:153:3 › MediaSoup Plugin Loading › should handle lifecycle hooks correctly 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/plugin-loading-MediaSoup-P-4762a-e-lifecycle-hooks-correctly-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/plugin-loading-MediaSoup-P-4762a-e-lifecycle-hooks-correctly-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Plugin Loading › should show appropriate notifications" classname="plugin-loading.spec.js" time="0.262">
<failure message="plugin-loading.spec.js:179:3 should show appropriate notifications" type="FAILURE">
<![CDATA[  [webkit-webrtc] › plugin-loading.spec.js:179:3 › MediaSoup Plugin Loading › should show appropriate notifications 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/plugin-loading-MediaSoup-P-e539c-w-appropriate-notifications-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/plugin-loading-MediaSoup-P-e539c-w-appropriate-notifications-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Plugin Loading › should log initialization messages" classname="plugin-loading.spec.js" time="0.26">
<failure message="plugin-loading.spec.js:203:3 should log initialization messages" type="FAILURE">
<![CDATA[  [webkit-webrtc] › plugin-loading.spec.js:203:3 › MediaSoup Plugin Loading › should log initialization messages 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/plugin-loading-MediaSoup-P-ae37c-log-initialization-messages-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/plugin-loading-MediaSoup-P-ae37c-log-initialization-messages-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Plugin Loading › should handle mediasoup-client loading failure gracefully" classname="plugin-loading.spec.js" time="0.322">
<failure message="plugin-loading.spec.js:225:3 should handle mediasoup-client loading failure gracefully" type="FAILURE">
<![CDATA[  [webkit-webrtc] › plugin-loading.spec.js:225:3 › MediaSoup Plugin Loading › should handle mediasoup-client loading failure gracefully 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/plugin-loading-MediaSoup-P-b1c76--loading-failure-gracefully-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/plugin-loading-MediaSoup-P-b1c76--loading-failure-gracefully-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="server-connection.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="webkit-webrtc" tests="8" failures="8" skipped="0" time="2.67" errors="0">
<testcase name="MediaSoup Server Connection › should test WebSocket connection to localhost" classname="server-connection.spec.js" time="0.323">
<failure message="server-connection.spec.js:29:3 should test WebSocket connection to localhost" type="FAILURE">
<![CDATA[  [webkit-webrtc] › server-connection.spec.js:29:3 › MediaSoup Server Connection › should test WebSocket connection to localhost 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/server-connection-MediaSou-689c4-ket-connection-to-localhost-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/server-connection-MediaSou-689c4-ket-connection-to-localhost-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Server Connection › should handle invalid server URL gracefully" classname="server-connection.spec.js" time="0.317">
<failure message="server-connection.spec.js:48:3 should handle invalid server URL gracefully" type="FAILURE">
<![CDATA[  [webkit-webrtc] › server-connection.spec.js:48:3 › MediaSoup Server Connection › should handle invalid server URL gracefully 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/server-connection-MediaSou-6d592-valid-server-URL-gracefully-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/server-connection-MediaSou-6d592-valid-server-URL-gracefully-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Server Connection › should connect to MediaSoup server when available" classname="server-connection.spec.js" time="0.386">
<failure message="server-connection.spec.js:64:3 should connect to MediaSoup server when available" type="FAILURE">
<![CDATA[  [webkit-webrtc] › server-connection.spec.js:64:3 › MediaSoup Server Connection › should connect to MediaSoup server when available 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/server-connection-MediaSou-eb93f-aSoup-server-when-available-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/server-connection-MediaSou-eb93f-aSoup-server-when-available-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Server Connection › should handle connection state changes" classname="server-connection.spec.js" time="0.332">
<failure message="server-connection.spec.js:127:3 should handle connection state changes" type="FAILURE">
<![CDATA[  [webkit-webrtc] › server-connection.spec.js:127:3 › MediaSoup Server Connection › should handle connection state changes 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/server-connection-MediaSou-33142-le-connection-state-changes-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/server-connection-MediaSou-33142-le-connection-state-changes-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Server Connection › should handle reconnection attempts" classname="server-connection.spec.js" time="0.335">
<failure message="server-connection.spec.js:172:3 should handle reconnection attempts" type="FAILURE">
<![CDATA[  [webkit-webrtc] › server-connection.spec.js:172:3 › MediaSoup Server Connection › should handle reconnection attempts 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/server-connection-MediaSou-4294b-andle-reconnection-attempts-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/server-connection-MediaSou-4294b-andle-reconnection-attempts-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Server Connection › should validate server URL before connection" classname="server-connection.spec.js" time="0.334">
<failure message="server-connection.spec.js:209:3 should validate server URL before connection" type="FAILURE">
<![CDATA[  [webkit-webrtc] › server-connection.spec.js:209:3 › MediaSoup Server Connection › should validate server URL before connection 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/server-connection-MediaSou-96a3b-erver-URL-before-connection-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/server-connection-MediaSou-96a3b-erver-URL-before-connection-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Server Connection › should handle WebSocket errors gracefully" classname="server-connection.spec.js" time="0.322">
<failure message="server-connection.spec.js:239:3 should handle WebSocket errors gracefully" type="FAILURE">
<![CDATA[  [webkit-webrtc] › server-connection.spec.js:239:3 › MediaSoup Server Connection › should handle WebSocket errors gracefully 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/server-connection-MediaSou-bcca8-WebSocket-errors-gracefully-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/server-connection-MediaSou-bcca8-WebSocket-errors-gracefully-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Server Connection › should clean up resources on disconnect" classname="server-connection.spec.js" time="0.321">
<failure message="server-connection.spec.js:291:3 should clean up resources on disconnect" type="FAILURE">
<![CDATA[  [webkit-webrtc] › server-connection.spec.js:291:3 › MediaSoup Server Connection › should clean up resources on disconnect 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/server-connection-MediaSou-71418--up-resources-on-disconnect-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/server-connection-MediaSou-71418--up-resources-on-disconnect-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="settings-config.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="webkit-webrtc" tests="10" failures="10" skipped="0" time="3.511" errors="0">
<testcase name="MediaSoup Settings Configuration › should open settings modal from button" classname="settings-config.spec.js" time="0.322">
<failure message="settings-config.spec.js:29:3 should open settings modal from button" type="FAILURE">
<![CDATA[  [webkit-webrtc] › settings-config.spec.js:29:3 › MediaSoup Settings Configuration › should open settings modal from button 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/settings-config-MediaSoup--1382a--settings-modal-from-button-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/settings-config-MediaSoup--1382a--settings-modal-from-button-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Settings Configuration › should close settings modal on cancel" classname="settings-config.spec.js" time="0.365">
<failure message="settings-config.spec.js:43:3 should close settings modal on cancel" type="FAILURE">
<![CDATA[  [webkit-webrtc] › settings-config.spec.js:43:3 › MediaSoup Settings Configuration › should close settings modal on cancel 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/settings-config-MediaSoup--5c87f-se-settings-modal-on-cancel-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/settings-config-MediaSoup--5c87f-se-settings-modal-on-cancel-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Settings Configuration › should close settings modal on overlay click" classname="settings-config.spec.js" time="0.362">
<failure message="settings-config.spec.js:53:3 should close settings modal on overlay click" type="FAILURE">
<![CDATA[  [webkit-webrtc] › settings-config.spec.js:53:3 › MediaSoup Settings Configuration › should close settings modal on overlay click 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/settings-config-MediaSoup--4199c-ings-modal-on-overlay-click-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/settings-config-MediaSoup--4199c-ings-modal-on-overlay-click-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Settings Configuration › should save settings correctly" classname="settings-config.spec.js" time="0.358">
<failure message="settings-config.spec.js:63:3 should save settings correctly" type="FAILURE">
<![CDATA[  [webkit-webrtc] › settings-config.spec.js:63:3 › MediaSoup Settings Configuration › should save settings correctly 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/settings-config-MediaSoup--ef237-uld-save-settings-correctly-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/settings-config-MediaSoup--ef237-uld-save-settings-correctly-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Settings Configuration › should validate server URL format" classname="settings-config.spec.js" time="0.365">
<failure message="settings-config.spec.js:88:3 should validate server URL format" type="FAILURE">
<![CDATA[  [webkit-webrtc] › settings-config.spec.js:88:3 › MediaSoup Settings Configuration › should validate server URL format 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/settings-config-MediaSoup--a8f3f--validate-server-URL-format-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/settings-config-MediaSoup--a8f3f--validate-server-URL-format-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Settings Configuration › should populate device lists when available" classname="settings-config.spec.js" time="0.334">
<failure message="settings-config.spec.js:131:3 should populate device lists when available" type="FAILURE">
<![CDATA[  [webkit-webrtc] › settings-config.spec.js:131:3 › MediaSoup Settings Configuration › should populate device lists when available 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/settings-config-MediaSoup--52335-device-lists-when-available-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/settings-config-MediaSoup--52335-device-lists-when-available-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Settings Configuration › should update client settings when changed" classname="settings-config.spec.js" time="0.327">
<failure message="settings-config.spec.js:182:3 should update client settings when changed" type="FAILURE">
<![CDATA[  [webkit-webrtc] › settings-config.spec.js:182:3 › MediaSoup Settings Configuration › should update client settings when changed 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/settings-config-MediaSoup--e7c39-lient-settings-when-changed-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/settings-config-MediaSoup--e7c39-lient-settings-when-changed-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Settings Configuration › should show current settings values in modal" classname="settings-config.spec.js" time="0.334">
<failure message="settings-config.spec.js:199:3 should show current settings values in modal" type="FAILURE">
<![CDATA[  [webkit-webrtc] › settings-config.spec.js:199:3 › MediaSoup Settings Configuration › should show current settings values in modal 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/settings-config-MediaSoup--4f2c1-nt-settings-values-in-modal-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/settings-config-MediaSoup--4f2c1-nt-settings-values-in-modal-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Settings Configuration › should handle settings change callbacks" classname="settings-config.spec.js" time="0.372">
<failure message="settings-config.spec.js:217:3 should handle settings change callbacks" type="FAILURE">
<![CDATA[  [webkit-webrtc] › settings-config.spec.js:217:3 › MediaSoup Settings Configuration › should handle settings change callbacks 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/settings-config-MediaSoup--d8e2a-e-settings-change-callbacks-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/settings-config-MediaSoup--d8e2a-e-settings-change-callbacks-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup Settings Configuration › should handle boolean settings correctly" classname="settings-config.spec.js" time="0.372">
<failure message="settings-config.spec.js:260:3 should handle boolean settings correctly" type="FAILURE">
<![CDATA[  [webkit-webrtc] › settings-config.spec.js:260:3 › MediaSoup Settings Configuration › should handle boolean settings correctly 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Navigate to test sandbox and initialize plugin
      17 |     await page.goto('/tests/integration/setup/test-sandbox.html');
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/settings-config-MediaSoup--f9cd9--boolean-settings-correctly-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/settings-config-MediaSoup--f9cd9--boolean-settings-correctly-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="webrtc-media.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="webkit-webrtc" tests="9" failures="9" skipped="0" time="3.267" errors="0">
<testcase name="MediaSoup WebRTC Media › should request media permissions successfully" classname="webrtc-media.spec.js" time="0.376">
<failure message="webrtc-media.spec.js:39:3 should request media permissions successfully" type="FAILURE">
<![CDATA[  [webkit-webrtc] › webrtc-media.spec.js:39:3 › MediaSoup WebRTC Media › should request media permissions successfully 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/webrtc-media-MediaSoup-Web-1ac9c-ia-permissions-successfully-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/webrtc-media-MediaSoup-Web-1ac9c-ia-permissions-successfully-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup WebRTC Media › should enumerate mock media devices" classname="webrtc-media.spec.js" time="0.372">
<failure message="webrtc-media.spec.js:51:3 should enumerate mock media devices" type="FAILURE">
<![CDATA[  [webkit-webrtc] › webrtc-media.spec.js:51:3 › MediaSoup WebRTC Media › should enumerate mock media devices 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/webrtc-media-MediaSoup-Web-a6159-numerate-mock-media-devices-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/webrtc-media-MediaSoup-Web-a6159-numerate-mock-media-devices-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup WebRTC Media › should create local audio stream" classname="webrtc-media.spec.js" time="0.334">
<failure message="webrtc-media.spec.js:102:3 should create local audio stream" type="FAILURE">
<![CDATA[  [webkit-webrtc] › webrtc-media.spec.js:102:3 › MediaSoup WebRTC Media › should create local audio stream 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/webrtc-media-MediaSoup-Web-278f8-d-create-local-audio-stream-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/webrtc-media-MediaSoup-Web-278f8-d-create-local-audio-stream-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup WebRTC Media › should create local video stream" classname="webrtc-media.spec.js" time="0.337">
<failure message="webrtc-media.spec.js:154:3 should create local video stream" type="FAILURE">
<![CDATA[  [webkit-webrtc] › webrtc-media.spec.js:154:3 › MediaSoup WebRTC Media › should create local video stream 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/webrtc-media-MediaSoup-Web-b5034-d-create-local-video-stream-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/webrtc-media-MediaSoup-Web-b5034-d-create-local-video-stream-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup WebRTC Media › should handle media device constraints" classname="webrtc-media.spec.js" time="0.336">
<failure message="webrtc-media.spec.js:206:3 should handle media device constraints" type="FAILURE">
<![CDATA[  [webkit-webrtc] › webrtc-media.spec.js:206:3 › MediaSoup WebRTC Media › should handle media device constraints 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/webrtc-media-MediaSoup-Web-16eae-le-media-device-constraints-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/webrtc-media-MediaSoup-Web-16eae-le-media-device-constraints-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup WebRTC Media › should handle media access errors gracefully" classname="webrtc-media.spec.js" time="0.376">
<failure message="webrtc-media.spec.js:286:3 should handle media access errors gracefully" type="FAILURE">
<![CDATA[  [webkit-webrtc] › webrtc-media.spec.js:286:3 › MediaSoup WebRTC Media › should handle media access errors gracefully 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/webrtc-media-MediaSoup-Web-80b02-ia-access-errors-gracefully-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/webrtc-media-MediaSoup-Web-80b02-ia-access-errors-gracefully-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup WebRTC Media › should toggle audio mute state" classname="webrtc-media.spec.js" time="0.379">
<failure message="webrtc-media.spec.js:329:3 should toggle audio mute state" type="FAILURE">
<![CDATA[  [webkit-webrtc] › webrtc-media.spec.js:329:3 › MediaSoup WebRTC Media › should toggle audio mute state 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/webrtc-media-MediaSoup-Web-f1de8-uld-toggle-audio-mute-state-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/webrtc-media-MediaSoup-Web-f1de8-uld-toggle-audio-mute-state-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup WebRTC Media › should clean up media streams on stop" classname="webrtc-media.spec.js" time="0.379">
<failure message="webrtc-media.spec.js:381:3 should clean up media streams on stop" type="FAILURE">
<![CDATA[  [webkit-webrtc] › webrtc-media.spec.js:381:3 › MediaSoup WebRTC Media › should clean up media streams on stop 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/webrtc-media-MediaSoup-Web-1ec0a-an-up-media-streams-on-stop-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/webrtc-media-MediaSoup-Web-1ec0a-an-up-media-streams-on-stop-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
<testcase name="MediaSoup WebRTC Media › should handle device switching" classname="webrtc-media.spec.js" time="0.378">
<failure message="webrtc-media.spec.js:448:3 should handle device switching" type="FAILURE">
<![CDATA[  [webkit-webrtc] › webrtc-media.spec.js:448:3 › MediaSoup WebRTC Media › should handle device switching 

    Error: browser.newPage: Unknown permission: camera

      12 |   
      13 |   test.beforeEach(async ({ browser }) => {
    > 14 |     page = await browser.newPage();
         |                          ^
      15 |     
      16 |     // Grant media permissions upfront
      17 |     const context = page.context();
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:14:26

    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/webrtc-media-MediaSoup-Web-de859-uld-handle-device-switching-webkit-webrtc/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|../../test-results/webrtc-media-MediaSoup-Web-de859-uld-handle-device-switching-webkit-webrtc/test-failed-1.png]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="plugin-loading.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="Mobile Chrome" tests="9" failures="9" skipped="0" time="0.01" errors="0">
<testcase name="MediaSoup Plugin Loading › should load mock FoundryVTT environment correctly" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:30:3 should load mock FoundryVTT environment correctly" type="FAILURE">
<![CDATA[  [Mobile Chrome] › plugin-loading.spec.js:30:3 › MediaSoup Plugin Loading › should load mock FoundryVTT environment correctly 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-N8crny --remote-debugging-pipe --no-startup-window
    <launched> pid=11764
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-N8crny --remote-debugging-pipe --no-startup-window
      - <launched> pid=11764


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should load mediasoup-client library when needed" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:49:3 should load mediasoup-client library when needed" type="FAILURE">
<![CDATA[  [Mobile Chrome] › plugin-loading.spec.js:49:3 › MediaSoup Plugin Loading › should load mediasoup-client library when needed 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-vQELFG --remote-debugging-pipe --no-startup-window
    <launched> pid=11755
    [pid=11755] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11755] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-vQELFG --remote-debugging-pipe --no-startup-window
      - <launched> pid=11755
      - [pid=11755] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11755] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should initialize plugin successfully" classname="plugin-loading.spec.js" time="0.002">
<failure message="plugin-loading.spec.js:78:3 should initialize plugin successfully" type="FAILURE">
<![CDATA[  [Mobile Chrome] › plugin-loading.spec.js:78:3 › MediaSoup Plugin Loading › should initialize plugin successfully 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-mSvEH7 --remote-debugging-pipe --no-startup-window
    <launched> pid=11765
    [pid=11765] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11765] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-mSvEH7 --remote-debugging-pipe --no-startup-window
      - <launched> pid=11765
      - [pid=11765] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11765] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should register settings correctly" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:104:3 should register settings correctly" type="FAILURE">
<![CDATA[  [Mobile Chrome] › plugin-loading.spec.js:104:3 › MediaSoup Plugin Loading › should register settings correctly 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-8a6gWS --remote-debugging-pipe --no-startup-window
    <launched> pid=11808
    [pid=11808] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11808] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-8a6gWS --remote-debugging-pipe --no-startup-window
      - <launched> pid=11808
      - [pid=11808] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11808] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should register settings menu correctly" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:134:3 should register settings menu correctly" type="FAILURE">
<![CDATA[  [Mobile Chrome] › plugin-loading.spec.js:134:3 › MediaSoup Plugin Loading › should register settings menu correctly 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-qXtr3n --remote-debugging-pipe --no-startup-window
    <launched> pid=11809
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-qXtr3n --remote-debugging-pipe --no-startup-window
      - <launched> pid=11809


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should handle lifecycle hooks correctly" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:153:3 should handle lifecycle hooks correctly" type="FAILURE">
<![CDATA[  [Mobile Chrome] › plugin-loading.spec.js:153:3 › MediaSoup Plugin Loading › should handle lifecycle hooks correctly 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-w5USCV --remote-debugging-pipe --no-startup-window
    <launched> pid=11812
    [pid=11812] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11812] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-w5USCV --remote-debugging-pipe --no-startup-window
      - <launched> pid=11812
      - [pid=11812] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11812] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should show appropriate notifications" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:179:3 should show appropriate notifications" type="FAILURE">
<![CDATA[  [Mobile Chrome] › plugin-loading.spec.js:179:3 › MediaSoup Plugin Loading › should show appropriate notifications 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Fg97xx --remote-debugging-pipe --no-startup-window
    <launched> pid=11807
    [pid=11807] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11807] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Fg97xx --remote-debugging-pipe --no-startup-window
      - <launched> pid=11807
      - [pid=11807] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11807] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should log initialization messages" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:203:3 should log initialization messages" type="FAILURE">
<![CDATA[  [Mobile Chrome] › plugin-loading.spec.js:203:3 › MediaSoup Plugin Loading › should log initialization messages 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-UEF9zU --remote-debugging-pipe --no-startup-window
    <launched> pid=11810
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-UEF9zU --remote-debugging-pipe --no-startup-window
      - <launched> pid=11810


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Plugin Loading › should handle mediasoup-client loading failure gracefully" classname="plugin-loading.spec.js" time="0.001">
<failure message="plugin-loading.spec.js:225:3 should handle mediasoup-client loading failure gracefully" type="FAILURE">
<![CDATA[  [Mobile Chrome] › plugin-loading.spec.js:225:3 › MediaSoup Plugin Loading › should handle mediasoup-client loading failure gracefully 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-5xB4Ry --remote-debugging-pipe --no-startup-window
    <launched> pid=11811
    [pid=11811] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11811] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-5xB4Ry --remote-debugging-pipe --no-startup-window
      - <launched> pid=11811
      - [pid=11811] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11811] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      25 |   
      26 |   test.afterEach(async () => {
    > 27 |     await page.close();
         |                ^
      28 |   });
      29 |   
      30 |   test('should load mock FoundryVTT environment correctly', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/plugin-loading.spec.js:27:16
]]>
</failure>
</testcase>
</testsuite>
<testsuite name="server-connection.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="Mobile Chrome" tests="8" failures="8" skipped="0" time="0.01" errors="0">
<testcase name="MediaSoup Server Connection › should test WebSocket connection to localhost" classname="server-connection.spec.js" time="0.001">
<failure message="server-connection.spec.js:29:3 should test WebSocket connection to localhost" type="FAILURE">
<![CDATA[  [Mobile Chrome] › server-connection.spec.js:29:3 › MediaSoup Server Connection › should test WebSocket connection to localhost 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-RvWvfB --remote-debugging-pipe --no-startup-window
    <launched> pid=11813
    [pid=11813] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11813] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-RvWvfB --remote-debugging-pipe --no-startup-window
      - <launched> pid=11813
      - [pid=11813] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11813] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should handle invalid server URL gracefully" classname="server-connection.spec.js" time="0.001">
<failure message="server-connection.spec.js:48:3 should handle invalid server URL gracefully" type="FAILURE">
<![CDATA[  [Mobile Chrome] › server-connection.spec.js:48:3 › MediaSoup Server Connection › should handle invalid server URL gracefully 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-qPEZVm --remote-debugging-pipe --no-startup-window
    <launched> pid=11826
    [pid=11826] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11826] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-qPEZVm --remote-debugging-pipe --no-startup-window
      - <launched> pid=11826
      - [pid=11826] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11826] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should connect to MediaSoup server when available" classname="server-connection.spec.js" time="0.001">
<failure message="server-connection.spec.js:64:3 should connect to MediaSoup server when available" type="FAILURE">
<![CDATA[  [Mobile Chrome] › server-connection.spec.js:64:3 › MediaSoup Server Connection › should connect to MediaSoup server when available 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-yB5fTo --remote-debugging-pipe --no-startup-window
    <launched> pid=11828
    [pid=11828] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11828] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-yB5fTo --remote-debugging-pipe --no-startup-window
      - <launched> pid=11828
      - [pid=11828] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11828] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should handle connection state changes" classname="server-connection.spec.js" time="0.001">
<failure message="server-connection.spec.js:127:3 should handle connection state changes" type="FAILURE">
<![CDATA[  [Mobile Chrome] › server-connection.spec.js:127:3 › MediaSoup Server Connection › should handle connection state changes 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-zQzyjz --remote-debugging-pipe --no-startup-window
    <launched> pid=11827
    [pid=11827] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11827] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-zQzyjz --remote-debugging-pipe --no-startup-window
      - <launched> pid=11827
      - [pid=11827] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11827] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should handle reconnection attempts" classname="server-connection.spec.js" time="0.001">
<failure message="server-connection.spec.js:172:3 should handle reconnection attempts" type="FAILURE">
<![CDATA[  [Mobile Chrome] › server-connection.spec.js:172:3 › MediaSoup Server Connection › should handle reconnection attempts 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-FS5sLz --remote-debugging-pipe --no-startup-window
    <launched> pid=11829
    [pid=11829] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11829] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-FS5sLz --remote-debugging-pipe --no-startup-window
      - <launched> pid=11829
      - [pid=11829] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11829] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should validate server URL before connection" classname="server-connection.spec.js" time="0.002">
<failure message="server-connection.spec.js:209:3 should validate server URL before connection" type="FAILURE">
<![CDATA[  [Mobile Chrome] › server-connection.spec.js:209:3 › MediaSoup Server Connection › should validate server URL before connection 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-rQRTIA --remote-debugging-pipe --no-startup-window
    <launched> pid=11830
    [pid=11830] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11830] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-rQRTIA --remote-debugging-pipe --no-startup-window
      - <launched> pid=11830
      - [pid=11830] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11830] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should handle WebSocket errors gracefully" classname="server-connection.spec.js" time="0.001">
<failure message="server-connection.spec.js:239:3 should handle WebSocket errors gracefully" type="FAILURE">
<![CDATA[  [Mobile Chrome] › server-connection.spec.js:239:3 › MediaSoup Server Connection › should handle WebSocket errors gracefully 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-VHleBg --remote-debugging-pipe --no-startup-window
    <launched> pid=11832
    [pid=11832] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11832] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-VHleBg --remote-debugging-pipe --no-startup-window
      - <launched> pid=11832
      - [pid=11832] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11832] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Server Connection › should clean up resources on disconnect" classname="server-connection.spec.js" time="0.002">
<failure message="server-connection.spec.js:291:3 should clean up resources on disconnect" type="FAILURE">
<![CDATA[  [Mobile Chrome] › server-connection.spec.js:291:3 › MediaSoup Server Connection › should clean up resources on disconnect 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-iaRHd0 --remote-debugging-pipe --no-startup-window
    <launched> pid=11831
    [pid=11831] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11831] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-iaRHd0 --remote-debugging-pipe --no-startup-window
      - <launched> pid=11831
      - [pid=11831] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11831] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should test WebSocket connection to localhost', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/server-connection.spec.js:26:16
]]>
</failure>
</testcase>
</testsuite>
<testsuite name="settings-config.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="Mobile Chrome" tests="10" failures="10" skipped="0" time="0.011" errors="0">
<testcase name="MediaSoup Settings Configuration › should open settings modal from button" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:29:3 should open settings modal from button" type="FAILURE">
<![CDATA[  [Mobile Chrome] › settings-config.spec.js:29:3 › MediaSoup Settings Configuration › should open settings modal from button 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-JvBlhU --remote-debugging-pipe --no-startup-window
    <launched> pid=11848
    [pid=11848] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11848] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-JvBlhU --remote-debugging-pipe --no-startup-window
      - <launched> pid=11848
      - [pid=11848] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11848] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should close settings modal on cancel" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:43:3 should close settings modal on cancel" type="FAILURE">
<![CDATA[  [Mobile Chrome] › settings-config.spec.js:43:3 › MediaSoup Settings Configuration › should close settings modal on cancel 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-KNYeg5 --remote-debugging-pipe --no-startup-window
    <launched> pid=11847
    [pid=11847] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11847] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-KNYeg5 --remote-debugging-pipe --no-startup-window
      - <launched> pid=11847
      - [pid=11847] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11847] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should close settings modal on overlay click" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:53:3 should close settings modal on overlay click" type="FAILURE">
<![CDATA[  [Mobile Chrome] › settings-config.spec.js:53:3 › MediaSoup Settings Configuration › should close settings modal on overlay click 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-LW56w7 --remote-debugging-pipe --no-startup-window
    <launched> pid=11852
    [pid=11852] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11852] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-LW56w7 --remote-debugging-pipe --no-startup-window
      - <launched> pid=11852
      - [pid=11852] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11852] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should save settings correctly" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:63:3 should save settings correctly" type="FAILURE">
<![CDATA[  [Mobile Chrome] › settings-config.spec.js:63:3 › MediaSoup Settings Configuration › should save settings correctly 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-ZlCU57 --remote-debugging-pipe --no-startup-window
    <launched> pid=11853
    [pid=11853] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11853] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-ZlCU57 --remote-debugging-pipe --no-startup-window
      - <launched> pid=11853
      - [pid=11853] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11853] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should validate server URL format" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:88:3 should validate server URL format" type="FAILURE">
<![CDATA[  [Mobile Chrome] › settings-config.spec.js:88:3 › MediaSoup Settings Configuration › should validate server URL format 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-NpcEca --remote-debugging-pipe --no-startup-window
    <launched> pid=11849
    [pid=11849] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11849] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-NpcEca --remote-debugging-pipe --no-startup-window
      - <launched> pid=11849
      - [pid=11849] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11849] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should populate device lists when available" classname="settings-config.spec.js" time="0.002">
<failure message="settings-config.spec.js:131:3 should populate device lists when available" type="FAILURE">
<![CDATA[  [Mobile Chrome] › settings-config.spec.js:131:3 › MediaSoup Settings Configuration › should populate device lists when available 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-zYvFru --remote-debugging-pipe --no-startup-window
    <launched> pid=11851
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-zYvFru --remote-debugging-pipe --no-startup-window
      - <launched> pid=11851


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should update client settings when changed" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:182:3 should update client settings when changed" type="FAILURE">
<![CDATA[  [Mobile Chrome] › settings-config.spec.js:182:3 › MediaSoup Settings Configuration › should update client settings when changed 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-HC8DRT --remote-debugging-pipe --no-startup-window
    <launched> pid=11850
    [pid=11850] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11850] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-HC8DRT --remote-debugging-pipe --no-startup-window
      - <launched> pid=11850
      - [pid=11850] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11850] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should show current settings values in modal" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:199:3 should show current settings values in modal" type="FAILURE">
<![CDATA[  [Mobile Chrome] › settings-config.spec.js:199:3 › MediaSoup Settings Configuration › should show current settings values in modal 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Pd9YAI --remote-debugging-pipe --no-startup-window
    <launched> pid=11865
    [pid=11865] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11865] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Pd9YAI --remote-debugging-pipe --no-startup-window
      - <launched> pid=11865
      - [pid=11865] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11865] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should handle settings change callbacks" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:217:3 should handle settings change callbacks" type="FAILURE">
<![CDATA[  [Mobile Chrome] › settings-config.spec.js:217:3 › MediaSoup Settings Configuration › should handle settings change callbacks 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-LreqBX --remote-debugging-pipe --no-startup-window
    <launched> pid=11869
    [pid=11869] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11869] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-LreqBX --remote-debugging-pipe --no-startup-window
      - <launched> pid=11869
      - [pid=11869] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11869] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup Settings Configuration › should handle boolean settings correctly" classname="settings-config.spec.js" time="0.001">
<failure message="settings-config.spec.js:260:3 should handle boolean settings correctly" type="FAILURE">
<![CDATA[  [Mobile Chrome] › settings-config.spec.js:260:3 › MediaSoup Settings Configuration › should handle boolean settings correctly 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Z7wIwm --remote-debugging-pipe --no-startup-window
    <launched> pid=11871
    [pid=11871] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11871] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Z7wIwm --remote-debugging-pipe --no-startup-window
      - <launched> pid=11871
      - [pid=11871] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11871] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'close')

      24 |   
      25 |   test.afterEach(async () => {
    > 26 |     await page.close();
         |                ^
      27 |   });
      28 |   
      29 |   test('should open settings modal from button', async () => {
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/settings-config.spec.js:26:16
]]>
</failure>
</testcase>
</testsuite>
<testsuite name="webrtc-media.spec.js" timestamp="2025-06-30T16:25:47.295Z" hostname="Mobile Chrome" tests="9" failures="9" skipped="0" time="0.009" errors="0">
<testcase name="MediaSoup WebRTC Media › should request media permissions successfully" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:39:3 should request media permissions successfully" type="FAILURE">
<![CDATA[  [Mobile Chrome] › webrtc-media.spec.js:39:3 › MediaSoup WebRTC Media › should request media permissions successfully 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-RsjYzk --remote-debugging-pipe --no-startup-window
    <launched> pid=11868
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-RsjYzk --remote-debugging-pipe --no-startup-window
      - <launched> pid=11868


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should enumerate mock media devices" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:51:3 should enumerate mock media devices" type="FAILURE">
<![CDATA[  [Mobile Chrome] › webrtc-media.spec.js:51:3 › MediaSoup WebRTC Media › should enumerate mock media devices 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-nW37wh --remote-debugging-pipe --no-startup-window
    <launched> pid=11867
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-nW37wh --remote-debugging-pipe --no-startup-window
      - <launched> pid=11867


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should create local audio stream" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:102:3 should create local audio stream" type="FAILURE">
<![CDATA[  [Mobile Chrome] › webrtc-media.spec.js:102:3 › MediaSoup WebRTC Media › should create local audio stream 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-X25mwM --remote-debugging-pipe --no-startup-window
    <launched> pid=11866
    [pid=11866] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11866] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-X25mwM --remote-debugging-pipe --no-startup-window
      - <launched> pid=11866
      - [pid=11866] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11866] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should create local video stream" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:154:3 should create local video stream" type="FAILURE">
<![CDATA[  [Mobile Chrome] › webrtc-media.spec.js:154:3 › MediaSoup WebRTC Media › should create local video stream 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-oX5IId --remote-debugging-pipe --no-startup-window
    <launched> pid=11870
    [pid=11870] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11870] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-oX5IId --remote-debugging-pipe --no-startup-window
      - <launched> pid=11870
      - [pid=11870] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11870] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should handle media device constraints" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:206:3 should handle media device constraints" type="FAILURE">
<![CDATA[  [Mobile Chrome] › webrtc-media.spec.js:206:3 › MediaSoup WebRTC Media › should handle media device constraints 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Wc1cQo --remote-debugging-pipe --no-startup-window
    <launched> pid=11884
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-Wc1cQo --remote-debugging-pipe --no-startup-window
      - <launched> pid=11884


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should handle media access errors gracefully" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:286:3 should handle media access errors gracefully" type="FAILURE">
<![CDATA[  [Mobile Chrome] › webrtc-media.spec.js:286:3 › MediaSoup WebRTC Media › should handle media access errors gracefully 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-nHB9Qr --remote-debugging-pipe --no-startup-window
    <launched> pid=11882
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-nHB9Qr --remote-debugging-pipe --no-startup-window
      - <launched> pid=11882


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should toggle audio mute state" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:329:3 should toggle audio mute state" type="FAILURE">
<![CDATA[  [Mobile Chrome] › webrtc-media.spec.js:329:3 › MediaSoup WebRTC Media › should toggle audio mute state 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-t8h9Mr --remote-debugging-pipe --no-startup-window
    <launched> pid=11881
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-t8h9Mr --remote-debugging-pipe --no-startup-window
      - <launched> pid=11881


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should clean up media streams on stop" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:381:3 should clean up media streams on stop" type="FAILURE">
<![CDATA[  [Mobile Chrome] › webrtc-media.spec.js:381:3 › MediaSoup WebRTC Media › should clean up media streams on stop 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-bTnnS7 --remote-debugging-pipe --no-startup-window
    <launched> pid=11885
    [pid=11885] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11885] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-bTnnS7 --remote-debugging-pipe --no-startup-window
      - <launched> pid=11885
      - [pid=11885] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11885] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
<testcase name="MediaSoup WebRTC Media › should handle device switching" classname="webrtc-media.spec.js" time="0.001">
<failure message="webrtc-media.spec.js:448:3 should handle device switching" type="FAILURE">
<![CDATA[  [Mobile Chrome] › webrtc-media.spec.js:448:3 › MediaSoup WebRTC Media › should handle device switching 

    Error: browserType.launch: Target page, context or browser has been closed
    Browser logs:

    <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-cNrhk5 --remote-debugging-pipe --no-startup-window
    <launched> pid=11883
    [pid=11883] <process did exit: exitCode=null, signal=SIGTRAP>
    [pid=11883] starting temporary directories cleanup
    Call log:
      - <launching> /Users/lgates/Library/Caches/ms-playwright/chromium_headless_shell-1179/chrome-mac/headless_shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AutoExpandDetailsElement,AvoidUnnecessaryBeforeUnloadCheckSync,CertificateTransparencyComponentUpdater,DestroyProfileOnBrowserClose,DialMediaRouteProvider,ExtensionManifestV2Disabled,GlobalMediaControls,HttpsUpgrades,ImprovedCookieControls,LazyFrameLoading,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --enable-automation --enable-use-zoom-for-dsf=false --use-angle --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --use-fake-ui-for-media-stream --use-fake-device-for-media-stream --auto-accept-camera-and-microphone-capture --user-data-dir=/var/folders/jx/zjyzknj16h7c7sc0prspdk7r0000gp/T/playwright_chromiumdev_profile-cNrhk5 --remote-debugging-pipe --no-startup-window
      - <launched> pid=11883
      - [pid=11883] <process did exit: exitCode=null, signal=SIGTRAP>
      - [pid=11883] starting temporary directories cleanup


    TypeError: Cannot read properties of undefined (reading 'evaluate')

      29 |   test.afterEach(async () => {
      30 |     // Clean up any media streams
    > 31 |     await page.evaluate(() => {
         |                ^
      32 |       if (window.MediaSoupVTT_Client) {
      33 |         window.MediaSoupVTT_Client.disconnect();
      34 |       }
        at /Users/lgates/repos/foundryvtt-webrtc-mediasoup/tests/integration/specs/webrtc-media.spec.js:31:16
]]>
</failure>
</testcase>
</testsuite>
</testsuites>